<div class="md-padding">

    <div layout="column" layout-gt-lg="row">
        <!--Map Card-->
        <md-card flex-gt-lg="70">
            <md-toolbar>
                <div class="md-toolbar-tools">
                    <h2 class="md-flex">Delivery Map</h2>
                    <md-icon class="align-right" ng-click="getPostmatesDeliveries()" md-svg-src="/assets/images/refresh.svg"></md-icon>
                </div>
            </md-toolbar>
            <md-card-content class="no-padding">
                <ui-gmap-google-map center='map.center' zoom='map.zoom' draggable="false" options="map.options">
                    <ui-gmap-markers models="markers" coords="'coords'" idkey="markers.id"></ui-gmap-markers>
                </ui-gmap-google-map>
            </md-card-content>
        </md-card>


        <!--Deliveries Card-->
        <md-card flex-gt-lg>
            <md-toolbar>
                <div class="md-toolbar-tools">
                    <h2 class="md-flex">Delivery Feed</h2>
                    <md-icon class="align-right" ng-click="postmatesExampleOrder()" md-svg-src="/assets/images/plus.svg"></md-icon>
                </div>
            </md-toolbar>

            <md-card-content style="padding-bottom: 0px;">
                <md-list style="padding-bottom: 0px;">
                    <md-list-item class="md-3-line" ng-repeat="delivery in delivery.data" ng-if="$index < 7">
                        <img ng-if="delivery.courier.img_href != undefined" ng-src="{{delivery.courier.img_href}}" alt="image of {{delivery.courier.name}}" class="md-avatar">
                        <div class="md-list-item-text">
                            <h3>{{delivery.id}}</h3>
                            <div ng-if="delivery.courier.name != undefined">
                                <h4>Driver: {{delivery.courier.name}}</h4>
                            </div>
                            <div ng-if="delivery.courier.name == undefined && !delivery.complete">
                                <h4>Pending...</h4>
                            </div>
                            <div ng-if="delivery.complete">
                                <h4>Delivered</h4>
                            </div>
                            <p>Manifest: {{delivery.manifest.description}}</p>
                        </div>
                        <md-divider inset ng-if="$index < 6"></md-divider>
                    </md-list-item>
                </md-list>
            </md-card-content>
        </md-card>

    </div>

    <div layout="column" layout-gt-md="row">
        
        <!--New Product Card-->
        <md-card flex-gt-md = '50'>
            <md-toolbar>
                <div class="md-toolbar-tools">
                    <h2 class="md-flex">New Product</h2>
                </div>
            </md-toolbar>
            <md-card-content>
                <md-input-container>
                    <label>Name</label>
                    <input type="text" ng-model="name">
                </md-input-container>
                <md-chips ng-model="categories" readonly="true" >
                    <md-chip-template ng-click="selectCategory($chip)" ng-click="selectCategory($chip)" ng-class="{'chip-active' : $chip._id == categoryId}">
                        {{$chip.name}}
                    </md-chip-template>
                </md-chips>
                <md-input-container>
                    <label>Description</label>
                    <input type="text" ng-model="description">
                </md-input-container>
                <md-input-container>
                    <label>Image src</label>
                    <input type="text" ng-model="img_src">
                </md-input-container>
                <md-input-container>
                    <label>Unique URL slug</label>
                    <input type="text" ng-model="url_slug">
                </md-input-container>
                <md-input-container>
                    <label>Price</label>
                    <input type="text" ng-model="price">
                </md-input-container>
                <div class="button raised" ng-click="createProduct()">
                    <div class="center" fit>Create</div>
                    <paper-ripple fit></paper-ripple>
                </div>
            </md-card-content>
        </md-card>

        <div layout="column"  flex-gt-md>
            <md-card>
                <md-toolbar>
                    <div class="md-toolbar-tools">
                        <h2 class="md-flex">Create Category</h2>
                    </div>
                </md-toolbar>
                <md-card-content>
                    <md-input-container>
                        <label>Category</label>
                        <input type="text" ng-model="newCategory">
                    </md-input-container>
                    <md-input-container>
                        <label>url slug</label>
                        <input type="text" ng-model="urlSlug">
                    </md-input-container>
                    <div class="button raised" ng-click="createCategory()">
                        <div class="center" fit>Create</div>
                        <paper-ripple fit></paper-ripple>
                    </div>
                </md-card-content>
            </md-card>
            <md-card>
                <md-toolbar>
                    <div class="md-toolbar-tools">
                        <h2 class="md-flex">Delete Category</h2>
                    </div>
                </md-toolbar>
                <md-card-content>
                    <md-chips ng-model="categories" readonly="true">
                        <md-chip-template ng-click="selectCategory($chip)" ng-class="{'chip-active' : $chip._id == categoryId}">
                            {{$chip.name}}
                        </md-chip-template>
                    </md-chips>
                    <div class="button raised" ng-click="deleteCategory(categoryId)">
                        <div class="center" fit>Remove</div>
                        <paper-ripple fit></paper-ripple>
                    </div>
                </md-card-content>
            </md-card>
        </div>
    </div>
</div>